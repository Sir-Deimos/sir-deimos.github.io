<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>West KY Autocross - Contact Us</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <button class="menu-toggle">☰</button>
    </div>
    <div id="navbar-container"></div>
        <div class="main-container">
        <div class="content">
            <h2>Contact Us</h2>
            <p class="intro">Fill out the form below to get in touch with the West KY Autocross team! Whether you have questions about events, rules, or how to get involved, we’re here to help.</p>
            <form id="contactForm" class="contact-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="4" required></textarea>
                
                <button type="submit">Submit</button>
            </form>
            <div id="popup" class="contact-popup">
                <img src="images/spinny.gif" alt="Thank You"> 
            </div>
        </div>
    </div>
    <script>
        // Load navbar
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
                // Add event listeners after navbar is loaded
                document.querySelector('.menu-toggle').addEventListener('click', function() {
                    document.querySelector('.navbar').classList.toggle('collapsed');
                });
                document.querySelector('.dropdown-toggle').addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        this.parentElement.classList.toggle('active');
                    }
                });
                document.querySelectorAll('.sub-dropdown-toggle').forEach(toggle => {
                    toggle.addEventListener('click', function(e) {
                        if (window.innerWidth <= 768) {
                            e.preventDefault();
                            this.parentElement.classList.toggle('active');
                        }
                    });
                });
            })
            .catch(error => console.error('Error loading navbar:', error));

        // Form submission and popup
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            this.reset();
            document.getElementById('popup').style.display = 'block';
        });

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
    </script>
</body>
</html>